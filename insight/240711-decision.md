### 본질의 이해와 사용자의 관점
스키마의 확장이 필요했다.  

필드의 추가를 할 것인가 아님 기존 필드를 확장할 것인가 고민했다.  

기존 필드를 확장하는 경우 lidars: Types.ObjectId[] 기존 필드를 그대로 쓰는 것이다. 기존 필드와 새로 추가할 필드의 정의기 유사하다. 둘다 라이다 데이터를 기반으로 한 pcd 파일의 형식이었다. 또한 ObjectId의 참조 Schema의 필드 중 라이다의 타입을 나누는 Type이라는 필드가 존재해서 충분히 확장이 가능한 구조이다.

또 다른 방법은 새로운 타입을 추가하는 방법이다. 여러 라이다를 합친 mapId: Types.ObjectId를 추가할 수 있다. 이 경우 필드명으로 정의가 명확해진다. 하지만 필드가 추가되어 스키마의 구조가 조금 더 복잡하다.

아주 사소하지만 신경쓰이는 부분이었다. 어떤 방식으로 해도 괜찮아 보였다. 고민의 끝맺음이 어려웠다. 그래서 팀장님께 여쭤보았다. 그리고 mapId로 답을 내려주셨다. 그 이유는 다음과 같았다. 동일한 pcd 파일이더라도 raw lidar와 map이 사용하는 좌표계가 다르기 때문에 명확하게 구분하는게 좋아보인다고. 그 말에 바로 납득이 되었다.

집을 가면서 고민했다. 팀장님과 나의 논리 전개의 차이점이 무엇일까. 그래서 두 가지의 차이점을 발견했다.

첫째, 본질을 이해해야 한다. 결국 이 둘은 확률의 문제이다. 추후 어떻게 소프트웨어가 확장이 될지는 모르기 때문이다. 하나의 작은 요인으로 인해 그 차이가 생긴다. 따라서 본질을 이해하고 알아야 한다. 그래야 내 의사결정이 탄탄한 근거로 뒷받침된다. 예를 들어 raw lidar와 map이 무엇인지 명확하게 알아야 한다. 그게 어떤 단어의 정의이든 기본 컴퓨터 공학이든. 본질이 중요하다.  

둘째, 사용자의 입장을 고려했다. 어떤 소프트웨어든 사용자의 입장에서 생각해야 한다. 백엔드의 사용자는 프론트엔드이다. 프론트엔드에서 좌표계에 따라 변환 식이 정해진다. 좌표계를 기반으로 화면에 라이다를 뿌려준다. 따라서 이에 대한 정의를 명확하게 가져가는 것이 좋다는 결정을 내렸다. 백엔드 개발자로서 누구보다 프론트엔드를 잘 알고 있어야 하고, 이를 설계에 적용해야 한다.